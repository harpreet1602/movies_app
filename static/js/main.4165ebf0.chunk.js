(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{31:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),s=a.n(c),i=a(9),l=a(10),o=a(12),j=a(11),h=a(7),b=a(0),d=document.querySelectorAll(".nav-link");console.log(d);var u=function(){for(var e=0;e<d.length;e++)d[e].addEventListener("click",(function(e){for(var t=0;t<d.length;t++)d[t].classList.remove("active");e.currentTarget.classList.add("active")}));return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("a",{className:"navbar-brand",href:"/",children:"Movie Rentals"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(h.b,{className:"nav-link",to:"/",children:"Movies"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(h.b,{className:"nav-link",to:"/Customers",children:"Customers"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(h.b,{className:"nav-link",to:"/Rentals",children:"Rentals"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(h.b,{className:"nav-link",to:"/Login",children:"Login"})})]})})]})})},v=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allGenre:["Action","Comedy","Romance","Thriller","Horror"]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/genre").then((function(e){return e.json()})).then((function(t){e.setState({allGenre:t})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("ul",{className:"list-group",children:[Object(b.jsx)("li",{className:"list-group-item",onClick:function(){e.props.receiveCurrGenre("All Genre")},children:"All Genre"},"All Genre"),this.state.allGenre.map((function(t){return Object(b.jsx)("li",{className:"list-group-item",onClick:function(){e.props.receiveCurrGenre(t.name)},children:t.name},t._id)}))]})}}]),a}(r.a.Component);var m=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Showing ",e.moviesLength," movies from the database"]}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary mb-4",children:"New"}),Object(b.jsx)("div",{className:"input-group mb-3",children:Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...","aria-label":"Search","aria-describedby":"basic-addon1",onChange:function(t){e.receiveSearchParam(t.currentTarget.value)}})})]})},O=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allMovies:[],currPage:1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/movies").then((function(e){return e.json()})).then((function(t){e.setState({allMovies:t}),e.props.sendData(t.length)}))}},{key:"render",value:function(){var e=this,t=[];if(t="All Genre"!=this.props.currGenre?this.state.allMovies.filter((function(t){return t.genre.name==e.props.currGenre})):this.state.allMovies,this.props.searchString){var a=this.props.searchString.toLowerCase();t=t.filter((function(e){return e.title.toLowerCase().includes(a)}))}for(var n=Math.ceil(this.state.allMovies.length/5),r=[],c=1;c<=n;c++)r.push(c);var s=5*(this.state.currPage-1),i=5*this.state.currPage-1;return t=t.slice(s,Math.min(i,this.state.allMovies.length-1)+1),Object(b.jsxs)("div",{children:[Object(b.jsxs)("table",{className:"table table-striped",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Title"}),Object(b.jsx)("th",{scope:"col",children:"Genre"}),Object(b.jsx)("th",{scope:"col",children:"Stock"}),Object(b.jsx)("th",{scope:"col",children:"Rate"}),Object(b.jsx)("th",{scope:"col"}),Object(b.jsx)("th",{scope:"col"})]})}),Object(b.jsx)("tbody",{children:t.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.title}),Object(b.jsx)("td",{children:t.genre.name}),Object(b.jsx)("td",{children:t.numberInStock}),Object(b.jsx)("td",{children:t.dailyRentalRate}),Object(b.jsx)("td",{onClick:function(){var a=e.state.allMovies,n=a.findIndex((function(e){return e._id==t._id}));a[n].liked?a[n].liked=!1:a[n].liked=!0,e.setState({allMovies:a})},children:t.liked?Object(b.jsx)("span",{className:"material-icons",children:"favorite"}):Object(b.jsx)("span",{className:"material-icons",children:"favorite_border"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var a=e.state.allMovies;a=a.filter((function(e){return e._id!=t._id})),e.setState({allMovies:a}),e.props.sendData(a.length)},children:"Delete"})})]},t._id)}))})]}),Object(b.jsx)("nav",{"aria-label":"Page navigation example",children:Object(b.jsxs)("ul",{className:"pagination",children:[Object(b.jsx)("li",{className:"page-item",onClick:function(){var t=e.state.currPage;--t<1&&(t=1),e.setState({currPage:t})},children:Object(b.jsx)("a",{className:"page-link",href:"#",children:"Previous"})}),r.map((function(t){return Object(b.jsx)("li",{className:"page-item",onClick:function(){e.setState({currPage:t})},children:Object(b.jsx)("a",{className:"page-link",href:"#",children:t})})})),Object(b.jsx)("li",{className:"page-item",onClick:function(){var t=e.state.currPage;++t>n&&(t=n),e.setState({currPage:t})},children:Object(b.jsx)("a",{className:"page-link",href:"#",children:"Next"})})]})})]})}}]),a}(r.a.Component),p=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={moviesLength:0,searchString:"",currGenre:"All Genre"},e.receiveMoviesLength=function(t){e.setState({moviesLength:t})},e.receiveCurrGenre=function(t){e.setState({currGenre:t})},e.receiveSearchParam=function(t){e.setState({searchString:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-2 p-4",children:Object(b.jsx)(v,{receiveCurrGenre:this.receiveCurrGenre})}),Object(b.jsxs)("div",{className:"col-10 p-4",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)(m,{moviesLength:this.state.moviesLength,receiveSearchParam:this.receiveSearchParam})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)(O,{sendData:this.receiveMoviesLength,searchString:this.state.searchString,currGenre:this.state.currGenre})})})]})]})})}}]),a}(r.a.Component);var x=function(){return Object(b.jsx)("h1",{children:"Customers"})};var g=function(){return Object(b.jsx)("h1",{children:"Login"})};var f=function(){return Object(b.jsx)("h1",{children:"Rentals"})},N=a(2);s.a.render(Object(b.jsxs)(h.a,{children:[Object(b.jsx)(u,{}),Object(b.jsxs)(N.c,{children:[Object(b.jsx)(N.a,{path:"/Customers",children:Object(b.jsx)(x,{})}),Object(b.jsx)(N.a,{path:"/Rentals",children:Object(b.jsx)(f,{})}),Object(b.jsx)(N.a,{path:"/Login",children:Object(b.jsx)(g,{})}),Object(b.jsx)(N.a,{path:"/",children:Object(b.jsx)(p,{})})]})]}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4165ebf0.chunk.js.map